import{d as h,u as b,z as C,A as y,B,C as x,c as i,w as t,a as e,o as u,b as a,D as N,E as L,G as O,I as w,H as E,J as H,k as d,t as c,i as T,f as D,r as R,K as S,g as V,v as m,L as F,j as M,s as j,l as _,M as z,N as A,O as G,F as J,m as K,n as P}from"./index-CJnewdVb.js";import{H as $}from"./HeaderComponent-DgYHrHMG.js";import{t as q}from"./string-BRzLPHJq.js";import{_ as Q}from"./_plugin-vue_export-helper-5Z20xKf-.js";const U=h({__name:"BookmarkHomeTab",setup(W){const{getLine:f}=b(),l=C([]),r=y("__bookmarksDB");B(async()=>{await r.storageLength()&&k()}),x(()=>{r.bookmarkedItems.value&&r.bookmarkedItems.value.forEach(n=>{var o;(o=l.value)==null||o.push(n)})});const I=n=>{setTimeout(()=>{var o;k(),(o=n.target)==null||o.complete()},2e3)},k=()=>{var n;(n=r.storage.value)==null||n.forEach((o,s)=>{l.value.find(({key:g})=>g.includes(s))||l.value.push({key:s,value:o})})},p=async n=>{l.value=l.value.filter(o=>o.key!==n),await r.removeItem(n)};return(n,o)=>(u(),i(e(P),null,{default:t(()=>[a($,{title:e(f)("bookmark.title"),icon:e(N),"is-loading":!1,search:!1},null,8,["title","icon"]),a(e(K),{fullscreen:!0,class:"ion-padding"},{default:t(()=>[a(e(L),{slot:"fixed",onIonRefresh:o[0]||(o[0]=s=>I(s))},{default:t(()=>[a(e(O))]),_:1}),a(e(w),{inset:!0},{default:t(()=>[l.value.length?T("",!0):(u(),i(e(E),{key:0},{default:t(()=>[a(e(H),{class:"ion-text-center"},{default:t(()=>[d(c(e(f)("bookmark.emptyContent")),1)]),_:1})]),_:1})),(u(!0),D(J,null,R(l.value,s=>(u(),i(e(S),{key:s.key},{default:t(()=>[a(e(V),{button:"",detail:!0,"router-link":s.key},{default:t(()=>[a(e(m),{slot:"start",icon:e(F),color:"danger"},null,8,["icon"]),a(e(M),null,{default:t(()=>[j("h3",null,c(s.value.chapterName),1),a(e(_),{class:"rtl"},{default:t(()=>[d(c(e(q)(s.value.verseText,50)),1)]),_:2},1024)]),_:2},1024),a(e(_),{slot:"end",class:"pt-24"},{default:t(()=>[d(c(s.value.verseNumber),1)]),_:2},1024)]),_:2},1032,["router-link"]),a(e(z),null,{default:t(()=>[a(e(A),{color:"danger",onClick:v=>p(s.key)},{default:t(()=>[a(e(m),{slot:"icon-only",icon:e(G)},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))}}),ae=Q(U,[["__scopeId","data-v-47a4a454"]]);export{ae as default};
