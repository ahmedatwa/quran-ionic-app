import{ax as Pe,ay as Te,a as t,az as Ae,aA as Re,aB as $e,z as N,P as W,a5 as X,as as de,aC as Le,d as K,o as I,f as z,b as a,aD as Ne,u as Z,a4 as Fe,c as R,w as i,ab as A,v as _,aE as Oe,aF as De,j as ce,k as ee,t as L,aG as te,a1 as Ve,i as M,$ as Y,A as Me,aH as pe,a2 as me,ag as fe,ah as D,ai as T,aI as Be,h as Ee,aJ as je,q as j,s as O,aK as oe,aL as ze,aM as He,a9 as ge,aa as ve,aN as ye,aO as ne,aP as We,aQ as Ke,aR as Ue,R as xe,aS as Ge,I as Xe,r as Ye,K as qe,g as Je,M as Qe,N as ie,aT as Ze,aU as et,F as tt,m as be,aV as we,aW as at,aX as ot,C as he,X as nt,aY as it,aZ as rt,a_ as lt,a$ as st,b0 as ut,b1 as re,b2 as le,b3 as x,Z as dt}from"./index-CJnewdVb.js";import{W as ct,r as pt,_ as mt}from"./_plugin-vue_export-helper-5Z20xKf-.js";import{u as ke,g as ft,c as gt,d as vt,m as yt}from"./ChapterStore-CS45AkxF.js";import{_ as bt,u as wt}from"./ModalComponent.vue_vue_type_script_setup_true_lang-CY6DRNXA.js";const qt=async(n,o,e,l,r=ht)=>{const m=document.querySelector(n);if(m&&!kt(m,o||void 0))await _t(e),m.scrollIntoView(r);else return},ht={block:"center",behavior:"smooth"},kt=(n,o)=>{let e=n.getBoundingClientRect(),l=o||document.documentElement;return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||l.clientHeight)&&e.right<=(window.innerWidth||l.clientWidth)},_t=n=>new Promise((o,e)=>{setTimeout(()=>{o()},n)});function ae(n){return Pe()?(Te(n),!0):!1}function B(n){return typeof n=="function"?n():t(n)}const _e=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const It=n=>n!=null,St=Object.prototype.toString,Ct=n=>St.call(n)==="[object Object]",H=()=>{},se=Pt();function Pt(){var n,o;return _e&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((o=window==null?void 0:window.navigator)==null?void 0:o.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const Tt={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function At(...n){if(n.length!==1)return Ae(...n);const o=n[0];return typeof o=="function"?Re($e(()=>({get:o,set:H}))):N(o)}function G(n){var o;const e=B(n);return(o=e==null?void 0:e.$el)!=null?o:e}const Ie=_e?window:void 0;function Rt(...n){let o,e,l,r;if(typeof n[0]=="string"||Array.isArray(n[0])?([e,l,r]=n,o=Ie):[o,e,l,r]=n,!o)return H;Array.isArray(e)||(e=[e]),Array.isArray(l)||(l=[l]);const m=[],f=()=>{m.forEach(h=>h()),m.length=0},c=(h,k,C,P)=>(h.addEventListener(k,C,P),()=>h.removeEventListener(k,C,P)),y=X(()=>[G(o),B(r)],([h,k])=>{if(f(),!h)return;const C=Ct(k)?{...k}:k;m.push(...e.flatMap(P=>l.map(S=>c(h,P,S,C))))},{immediate:!0,flush:"post"}),b=()=>{y(),f()};return ae(b),b}function $t(){const n=N(!1),o=Le();return o&&de(()=>{n.value=!0},o),n}function Lt(n){const o=$t();return W(()=>(o.value,!!n()))}function ue(n,o,e={}){const{root:l,rootMargin:r="0px",threshold:m=.1,window:f=Ie,immediate:c=!0}=e,y=Lt(()=>f&&"IntersectionObserver"in f),b=W(()=>{const S=B(n);return(Array.isArray(S)?S:[S]).map(G).filter(It)});let h=H;const k=N(c),C=y.value?X(()=>[b.value,G(l),k.value],([S,u])=>{if(h(),!k.value||!S.length)return;const p=new IntersectionObserver(o,{root:G(u),rootMargin:r,threshold:m});S.forEach(s=>s&&p.observe(s)),h=()=>{p.disconnect(),h=H}},{immediate:c,flush:"post"}):H,P=()=>{h(),C(),k.value=!1};return ae(P),{isSupported:y,isActive:k,pause(){h(),k.value=!1},resume(){k.value=!0},stop:P}}function J(n){return typeof Window<"u"&&n instanceof Window?n.document.documentElement:typeof Document<"u"&&n instanceof Document?n.documentElement:n}const Jt={[Tt.mounted](n,o){typeof o.value=="function"?ue(n,o.value):ue(n,...o.value)}};function Se(n){const o=window.getComputedStyle(n);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&n.clientWidth<n.scrollWidth||o.overflowY==="auto"&&n.clientHeight<n.scrollHeight)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Se(e)}}function Nt(n){const o=n||window.event,e=o.target;return Se(e)?!1:o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)}const Q=new WeakMap;function Ft(n,o=!1){const e=N(o);let l=null,r="";X(At(n),c=>{const y=J(B(c));if(y){const b=y;if(Q.get(b)||Q.set(b,b.style.overflow),b.style.overflow!=="hidden"&&(r=b.style.overflow),b.style.overflow==="hidden")return e.value=!0;if(e.value)return b.style.overflow="hidden"}},{immediate:!0});const m=()=>{const c=J(B(n));!c||e.value||(se&&(l=Rt(c,"touchmove",y=>{Nt(y)},{passive:!1})),c.style.overflow="hidden",e.value=!0)},f=()=>{const c=J(B(n));!c||!e.value||(se&&(l==null||l()),c.style.overflow=r,Q.delete(c),e.value=!1)};return ae(f),W({get(){return e.value},set(c){c?m():f()}})}function Ot(){let n=!1;const o=N(!1);return(e,l)=>{if(o.value=l.value,n)return;n=!0;const r=Ft(e,l.value);X(o,m=>r.value=m)}}Ot();class Dt extends ct{async write(o){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(o.string!==void 0)await this.writeText(o.string);else if(o.url)await this.writeText(o.url);else if(o.image)if(typeof ClipboardItem<"u")try{const e=await(await fetch(o.image)).blob(),l=new ClipboardItem({[e.type]:e});await navigator.clipboard.write([l])}catch(e){throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const o=await navigator.clipboard.read(),e=o[0].types[0],l=await o[0].getType(e);return{value:await this._getBlobData(l,e),type:e}}catch(o){return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(o){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(o)}_getBlobData(o,e){return new Promise((l,r)=>{const m=new FileReader;e.includes("image")?m.readAsDataURL(o):m.readAsText(o),m.onloadend=()=>{const f=m.result;l(f)},m.onerror=f=>{r(f)}})}}const Vt=pt("Clipboard",{web:()=>new Dt}),Mt={class:"container"},Qt=K({__name:"VerseActionComponent",props:{verse:{},triggerProp:{},actionSheetButtonsProps:{}},emits:["update:didDismiss","update:playVerseAudio","update:bookmarked"],setup(n,{emit:o}){const e=n,l=o,r=[{text:"Play",role:"play"},{text:"Copy",role:"copy"},{text:"Bookmark",role:"bookmark"},{text:"Cancel",role:"cancel"}],m=c=>{switch(c.detail.role){case"play":l("update:playVerseAudio",{audioID:e.verse.chapter_id,verseKey:e.verse.verse_key});break;case"copy":f(e.verse.text_uthmani);break;case"bookmark":l("update:bookmarked",e.verse);break}},f=async c=>{await Vt.write({string:c})};return(c,y)=>(I(),z("div",Mt,[a(t(Ne),{trigger:c.triggerProp,header:"Verse ".concat(c.verse.verse_key),buttons:r,onDidDismiss:[y[0]||(y[0]=b=>c.$emit("update:didDismiss",b)),y[1]||(y[1]=b=>m(b))]},null,8,["trigger","header"])]))}}),Zt=K({__name:"ToolbarComponent",props:{routeBackLabel:{},routerDirection:{},routeBackPath:{},isLoading:{type:Boolean}},setup(n){const{isRtl:o}=Z(),{go:e}=Fe();return(l,r)=>(I(),R(t(Y),null,{default:i(()=>[a(t(te),{slot:"start"},{default:i(()=>[a(t(A),{onClick:r[0]||(r[0]=m=>l.routeBackPath?l.routeBackPath:t(e)(-1)),"router-direction":l.routerDirection?l.routerDirection:"back",color:"primary"},{default:i(()=>[a(t(_),{icon:t(o)?t(Oe):t(De)},null,8,["icon"]),a(t(ce),null,{default:i(()=>[ee(L(l.routeBackLabel),1)]),_:1})]),_:1},8,["router-direction"])]),_:1}),l.isLoading?(I(),R(t(Ve),{key:0,type:"indeterminate"})):M("",!0)]),_:1}))}}),Bt={key:0},Et={key:1},jt=K({__name:"AudioPlayerModalComponent",props:{isPlaying:{type:Boolean},verseTiming:{},selectedReciter:{},audioFiles:{},chapterName:{},progressTimer:{},mediaVolume:{},loopAudio:{},mapRecitions:{}},emits:["update:playAudio","update:playChapter","update:changeVolume","update:seek","update:download","update:selectedReciter","update:playNext","update:playPrev","update:loop"],setup(n,{emit:o}){const e=N(),{chapters:l,getVerseByVerseKey:r}=ke(),{getLine:m,isRtl:f}=Z(),c=N(!0),{storageKeys:y}=Me("__audioDB"),b=u=>"".concat(u,"%"),h=()=>at.dismiss(null,"cancel"),k=n,C=W(()=>{const u=k.verseTiming;if(u){const p=String(u.verseKey),s=r(p);if(s)return{juzNumber:s.juz_number,hizbNumber:s.hizb_number,pageNumber:s.page_number}}}),P=N();de(async()=>{const u=await y();u&&(P.value=u)});const S=(u,p)=>{const s=String(u).concat("-").concat(String(p));return!!(P.value&&P.value.includes(s))};return(u,p)=>(I(),R(t(we),{ref_key:"modalRef",ref:e,trigger:"audio-modal"},{default:i(()=>[a(t(me),null,{default:i(()=>[a(t(Y),null,{default:i(()=>[a(t(te),{slot:"start"},{default:i(()=>[a(t(A),{color:"medium",onClick:h},{default:i(()=>[a(t(_),{icon:t(pe)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(t(be),{class:"ion-padding ion-margin-vertical"},{default:i(()=>[a(t(fe),null,{default:i(()=>[a(t(D),{class:"ion-justify-content-center"},{default:i(()=>[a(t(T),{size:"11"},{default:i(()=>{var s,w;return[c.value?(I(),R(t(Be),{key:0,style:{height:"331px",width:"331px"}},{default:i(()=>[a(t(Ee),{animated:!0})]),_:1})):M("",!0),a(t(je),{onIonImgDidLoad:p[0]||(p[0]=F=>c.value=!1),src:"/reciters/".concat((s=u.selectedReciter)==null?void 0:s.reciter_id,".jpg"),alt:(w=u.selectedReciter)==null?void 0:w.name},null,8,["src","alt"])]}),_:1})]),_:1}),a(t(D),null,{default:i(()=>[a(t(T),{size:"12"},{default:i(()=>[a(t(j),{class:"ion-padding-vertical"},{default:i(()=>[a(t(j),null,{default:i(()=>[O("h3",null,L(u.chapterName),1)]),_:1}),a(t(j),null,{default:i(()=>{var s;return[O("h4",null,L((s=u.selectedReciter)==null?void 0:s.name),1)]}),_:1}),C.value?(I(),R(t(j),{key:0},{default:i(()=>{var s,w,F;return[O("p",null,"Hizb "+L((s=C.value)==null?void 0:s.hizbNumber)+" | Page "+L((w=C.value)==null?void 0:w.pageNumber)+" | Juz "+L((F=C.value)==null?void 0:F.juzNumber),1)]}),_:1})):M("",!0)]),_:1})]),_:1})]),_:1}),a(t(D),{class:"ion-justify-content-center"},{default:i(()=>[a(t(T),{size:"12"},{default:i(()=>{var s;return[a(t(oe),{"aria-label":"Seek",color:"primary",onIonInput:p[1]||(p[1]=w=>u.$emit("update:seek",Number(w.detail.value))),pin:!0,"pin-formatter":b,value:Math.round(u.progressTimer),min:0,max:(s=u.audioFiles)==null?void 0:s.duration},null,8,["value","max"])]}),_:1})]),_:1}),a(t(D),{class:"ion-justify-content-evenly"},{default:i(()=>[a(t(T),null,{default:i(()=>[a(t(A),{fill:"clear",id:"reciters-modal"},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(ze)},null,8,["icon"])]),_:1}),a(bt,{title:t(m)("settings.reciters"),trigger:"reciters-modal",data:u.mapRecitions,selected:u.selectedReciter,"onUpdate:selectedRecition":p[2]||(p[2]=s=>u.$emit("update:selectedReciter",s))},null,8,["title","data","selected"])]),_:1}),a(t(T),null,{default:i(()=>[a(t(A),{fill:"clear",onClick:p[3]||(p[3]=s=>u.$emit("update:playPrev",!0))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(He)},null,8,["icon"])]),_:1})]),_:1}),a(t(T),null,{default:i(()=>[a(t(A),{fill:"clear",onClick:p[4]||(p[4]=s=>u.$emit("update:playAudio",!0))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:u.isPlaying?t(ge):t(ve),color:"primary"},null,8,["icon"])]),_:1})]),_:1}),a(t(T),null,{default:i(()=>[a(t(A),{fill:"clear",onClick:p[5]||(p[5]=s=>u.$emit("update:playNext",!0))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(ye)},null,8,["icon"])]),_:1})]),_:1}),a(t(T),null,{default:i(()=>[u.loopAudio==="none"?(I(),R(t(A),{key:0,fill:"clear",onClick:p[6]||(p[6]=s=>u.$emit("update:loop","repeat"))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(ne),color:"medium"},null,8,["icon"])]),_:1})):u.loopAudio==="repeat"?(I(),R(t(A),{key:1,fill:"clear",onClick:p[7]||(p[7]=s=>u.$emit("update:loop","none"))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(ne),color:"primary"},null,8,["icon"])]),_:1})):M("",!0)]),_:1}),a(t(T),null,{default:i(()=>{var s,w;return[a(t(A),{fill:"clear",onClick:p[8]||(p[8]=F=>u.$emit("update:download",!0)),disabled:S(String((s=u.audioFiles)==null?void 0:s.reciterId),String((w=u.audioFiles)==null?void 0:w.chapter_id))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(We),color:"danger"},null,8,["icon"])]),_:1},8,["disabled"])]}),_:1})]),_:1}),a(t(D),{class:"ion-justify-content-center"},{default:i(()=>[a(t(T),{size:"12"},{default:i(()=>[a(t(oe),{"aria-label":"Volume",onIonChange:p[9]||(p[9]=s=>u.$emit("update:changeVolume",Number(s.detail.value))),pin:!0,"pin-formatter":b,value:u.mediaVolume*100},{default:i(()=>[a(t(_),{slot:"start",icon:t(Ke)},null,8,["icon"]),a(t(_),{slot:"end",icon:t(Ue)},null,8,["icon"])]),_:1},8,["value"])]),_:1})]),_:1}),a(t(D),{class:"ion-justify-content-center ion-margin-vertical"},{default:i(()=>[a(t(T),{size:"12"},{default:i(()=>[a(t(xe),{class:"ion-margin-bottom"},{default:i(()=>[a(t(_),{icon:t(Ge),style:{"margin-right":"5px"}},null,8,["icon"]),ee(" "+L(t(m)("audio.playlist")),1)]),_:1}),a(t(Xe),{style:{height:"400px","overflow-y":"scroll"},class:"ion-padding",inset:!0},{default:i(()=>[(I(!0),z(tt,null,Ye(t(l),s=>(I(),R(t(qe),{key:s.id},{default:i(()=>[a(t(Je),{button:!0},{default:i(()=>[a(t(ce),null,{default:i(()=>{var w;return[O("h3",null,[t(f)?(I(),z("span",Bt,L(s.nameArabic),1)):(I(),z("span",Et,L(s.nameSimple),1))]),O("p",null,L((w=u.selectedReciter)==null?void 0:w.name),1)]}),_:2},1024)]),_:2},1024),a(t(Qe),{slot:"end"},{default:i(()=>{var w,F,U;return[a(t(ie),{color:S(String((w=u.audioFiles)==null?void 0:w.reciterId),String(s.id))?"medium":"success",onClick:p[10]||(p[10]=q=>u.$emit("update:download",!0)),disabled:S(String((F=u.audioFiles)==null?void 0:F.reciterId),String(s.id))},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(Ze)},null,8,["icon"])]),_:2},1032,["color","disabled"]),a(t(ie),{color:"primary",onClick:q=>u.$emit("update:playChapter",s.id),disabled:((U=u.audioFiles)==null?void 0:U.chapter_id)===s.id},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(et)},null,8,["icon"])]),_:2},1032,["onClick","disabled"])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512))}}),zt=["alt","src"],Ht={class:"d-none"},Wt=["autoplay","src","type"],Kt=K({__name:"AudioPlayerComponent",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:o}){const e=wt(),l=ot(),r=N(),{getLocale:m}=Z(),f=o,c=()=>{r.value&&(r.value.paused?(r.value.play(),e.isPlaying=!0):(r.value.pause(),e.isPlaying=!1))},y=()=>{var d;if((d=r.value)!=null&&d.buffered&&r.value.buffered.length){const g=r.value.buffered.length-1;return r.value.buffered.end(g)}return 0},b=()=>{r.value&&e.audioFiles&&(e.listenerActive=!0,e.currentTimestamp=r.value.currentTime,e.duration=re(e.audioFiles.duration),e.elapsedTime=le(e.duration-(e.currentTimestamp-1),ft(m.value)),e.progressTimer=x(e.currentTimestamp-1))},h=async()=>{var d;switch(e.loopAudio){case"once":r.value&&(r.value.currentTime=0,e.isPlaying=!0,(d=r.value)==null||d.play());break;case"repeat":await e.playNext();break;case"none":e.isPlaying=!1,e.listenerActive=!1,k(),e.audioPlayerSetting.dismissOnEnd&&w();break}},k=()=>{var d,g,v;e.listenerActive=!1,e.isPlaying=!1,(d=r.value)==null||d.removeEventListener("timeupdate",b),(g=r.value)==null||g.removeEventListener("ended",h),(v=r.value)==null||v.removeEventListener("pause",e.playbackPaused)},C=()=>{e.audioFiles&&(e.audioDuration=le(Math.round(e.audioFiles.duration))),r.value&&(r.value.volume=e.mediaVolume)},P=()=>{var d;if(e.isLoading=!0,r.value)if(r.value.readyState>2){if(e.selectedVerseKey){const g=(d=e.audioFiles)==null?void 0:d.verse_timings.find(v=>v.verse_key===e.selectedVerseKey);g&&r.value&&(r.value.currentTime=re(g.timestamp_from),e.progressTimer=x(g.timestamp_from/g.timestamp_to))}e.isLoading=!1}else throw"Failed to fetch Audio"},S=d=>{r.value&&(e.progressTimer=d,r.value.currentTime=d/1e3)},u=()=>{e.chapterName&&(l.setPageTitle(e.chapterName),l.setMetaData([{property:"og:audio:title",content:e.chapterName},{name:"twitter:title",content:e.chapterName},{property:"og:title",content:e.chapterName}])),e.audioFiles&&l.setMetaData([{property:"music:song:track",content:String(e.audioFiles.id)},{property:"og:url",content:e.audioFiles.audio_url},{property:"og:type",content:e.audioFiles.format},{property:"og:audio",content:e.audioFiles.audio_url},{property:"music:duration",content:e.audioFiles.duration.toString()},{property:"og:audio:type",content:e.audioFiles.format}]),e.selectedReciter&&(l.setMetaData([{name:"twitter:image",content:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg")},{property:"music:musician",content:e.selectedReciter.name},{property:"og:audio:artist",content:e.selectedReciter.name},{property:"og:image",content:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg")}]),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.chapterName,artist:e.selectedReciter.name,album:"Quran",artwork:[{src:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg"),sizes:"96x96",type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",()=>{c()}),navigator.mediaSession.setActionHandler("pause",()=>{c()}),navigator.mediaSession.setActionHandler("seekto",({seekTime:d})=>{d&&(e.progressTimer=x(d),S(d))}),navigator.mediaSession.setActionHandler("nexttrack",()=>{e.playNext()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{e.playPrevious()})))},p=(d,g,v)=>d>=g&&d<v,s=W(()=>{if(e.audioFiles)return e.audioFiles.verse_timings.map(d=>({inRange:!1,wordLocation:"",wordPosition:0,verseNumber:0,...d}))});he(()=>{var d;if(s){const g=Math.ceil(x(e.currentTimestamp)),v=(d=s.value)==null?void 0:d.find(V=>g>=V.timestamp_from&&g<=V.timestamp_to);v&&p(g,v.timestamp_from,v==null?void 0:v.timestamp_to)&&v.segments.map($=>{const E=p(g,$[1],$[2]);if(E){e.verseTiming={chapterId:gt(v.verse_key),verseKey:v.verse_key,inRange:E,verseNumber:vt(v.verse_key),wordLocation:yt(v.verse_key,$[0]),wordPosition:$[0],audioSrc:e.audioPayLoadSrc};return}})}}),nt(()=>{e.audioFiles=null});const w=()=>{f("update:modelValue",!1),r.value&&r.value.pause(),e.chapterId=0,e.audioFiles=null,e.selectedVerseKey="",k()},F=async d=>{r.value&&(e.mediaVolume=d,r.value.volume=e.mediaVolume/100)},U=d=>{e.getAudio({audioID:d})},q=d=>{e.selectedReciter=d},Ce=d=>{console.log(d),e.playNext()};return(d,g)=>(I(),R(ut,{name:"slide-fade"},{default:i(()=>[d.modelValue?(I(),R(t(it),{key:0,class:"footer"},{default:i(()=>[a(t(Y),null,{default:i(()=>{var v,V;return[a(t(fe),null,{default:i(()=>[a(t(D),null,{default:i(()=>[a(t(T),{id:"audio-modal"},{default:i(()=>[a(t(rt),null,{default:i(()=>{var $,E;return[O("img",{alt:($=t(e).selectedReciter)==null?void 0:$.name,class:"img",src:"/reciters/".concat((E=t(e).selectedReciter)==null?void 0:E.reciter_id,".jpg")},null,8,zt)]}),_:1})]),_:1}),a(t(T),{size:"5","size-md":"3","size-lg":"3",class:"ion-text-right"},{default:i(()=>[a(t(A),{fill:"clear",onClick:c},{default:i(()=>[t(e).isLoading?(I(),R(t(lt),{key:0})):(I(),R(t(_),{key:1,slot:"icon-only",icon:t(e).isPlaying?t(ge):t(ve)},null,8,["icon"]))]),_:1}),a(t(A),{fill:"clear",onClick:t(e).playNext},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(ye)},null,8,["icon"])]),_:1},8,["onClick"]),a(t(A),{fill:"clear",onClick:w},{default:i(()=>[a(t(_),{slot:"icon-only",icon:t(st),color:"danger"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),O("div",Ht,[O("audio",{controls:"",autoplay:t(e).audioPlayerSetting.autoPlay,ref_key:"audioPlayerRef",ref:r,id:"audioPlayerRef",src:(v=t(e).audioFiles)==null?void 0:v.audio_url,type:"audio/".concat((V=t(e).audioFiles)==null?void 0:V.format),onPause:g[0]||(g[0]=(...$)=>t(e).playbackPaused&&t(e).playbackPaused(...$)),onPlaying:g[1]||(g[1]=(...$)=>t(e).playbackPlaying&&t(e).playbackPlaying(...$)),onEnded:h,onCanplaythrough:C,onTimeupdate:b,onLoadeddata:P,onProgress:y,onLoadedmetadata:u,onSeek:S},null,40,Wt)])]}),_:1}),a(jt,{trigger:"audio-modal","is-playing":t(e).isPlaying,"verse-timing":t(e).verseTiming,"selected-reciter":t(e).selectedReciter,"audio-files":t(e).audioFiles,"chapter-name":t(e).chapterName,"loop-audio":t(e).loopAudio,"media-volume":t(e).mediaVolume,"map-recitions":t(e).mapRecitions,"progress-timer":t(e).progressTimer,"onUpdate:changeVolume":F,"onUpdate:seek":S,"onUpdate:download":t(e).downloadAudioFile,"onUpdate:playChapter":U,"onUpdate:playNext":Ce,"onUpdate:playPrev":g[2]||(g[2]=v=>t(e).playPrevious()),"onUpdate:playAudio":c,"onUpdate:loopAudio":g[3]||(g[3]=v=>t(e).loopAudio=v),"onUpdate:selectedReciter":q},null,8,["is-playing","verse-timing","selected-reciter","audio-files","chapter-name","loop-audio","media-volume","map-recitions","progress-timer","onUpdate:download"])]),_:1})):M("",!0)]),_:1}))}}),ea=mt(Kt,[["__scopeId","data-v-786fc39e"]]),Ut={key:0},ta=K({__name:"ChapterInfoModalComponent",props:{pageEl:{},trigger:{},chapterInfo:{}},setup(n){const o=N(),{getChapter:e}=ke(),l=N(""),r=()=>{o.value.$el.dismiss()},m=n;return he(()=>{if(m.chapterInfo){const f=e(m.chapterInfo.chapter_id);f&&(l.value=f==null?void 0:f.nameSimple)}}),(f,c)=>(I(),R(t(we),{ref_key:"modal",ref:o,trigger:f.trigger,"can-dismiss":!0},{default:i(()=>[a(t(me),null,{default:i(()=>[a(t(Y),null,{default:i(()=>[a(t(dt),null,{default:i(()=>[ee(L(l.value),1)]),_:1}),a(t(te),{slot:"start"},{default:i(()=>[a(t(A),{onClick:r,color:"medium"},{default:i(()=>[a(t(_),{icon:t(pe)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),a(t(be),{class:"ion-padding"},{default:i(()=>{var y;return[f.chapterInfo?(I(),z("div",Ut,[a(t(j),{innerHTML:(y=f.chapterInfo)==null?void 0:y.text},null,8,["innerHTML"])])):M("",!0)]}),_:1})]),_:1},8,["trigger"]))}});export{ea as A,Zt as _,Qt as a,ta as b,qt as s,Jt as v};
