import{ay as Ce,az as Pe,a as t,aA as Te,aB as Ae,aC as Re,A as $,Q as U,a7 as Q,at as de,aD as Le,d as x,o as _,f as W,b as o,aE as $e,u as ee,a6 as Fe,c as T,w as i,ad as P,v as S,aF as Ne,aG as Oe,j as ce,k as te,t as L,aH as ae,a3 as De,i as M,a1 as X,B as Ve,aI as pe,a4 as me,ai as fe,aj as B,ak as A,aJ as Be,h as Me,aK as Ee,q as H,s as O,aL as je,aM as He,aN as We,ab as ge,ac as ve,aO as ye,aP as ne,aQ as ze,S as Ue,aR as xe,I as Ke,r as Ye,L as Ge,g as Qe,N as Xe,O as ie,aS as qe,aT as Je,F as Ze,m as we,aU as be,aV as et,aW as tt,D as he,Y as at,aX as ot,aY as nt,aZ as it,a_ as rt,a$ as lt,b0 as re,b1 as le,b2 as Y,$ as st}from"./index-CSnR3WyL.js";import{W as ut,r as dt,_ as ct}from"./_plugin-vue_export-helper-5Z20xKf-.js";import{u as ke,g as pt,c as mt,d as ft,m as gt}from"./ChapterStore-BzKdIpaO.js";import{_ as vt,u as yt}from"./ModalComponent.vue_vue_type_script_setup_true_lang-BWKJX5VG.js";const Gt=async(n,a,e,l,r=wt)=>{const p=document.querySelector(n);if(p&&!bt(p,a||void 0))await ht(e),p.scrollIntoView(r);else return},wt={block:"center",behavior:"smooth"},bt=(n,a)=>{let e=n.getBoundingClientRect(),l=a||document.documentElement;return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||l.clientHeight)&&e.right<=(window.innerWidth||l.clientWidth)},ht=n=>new Promise((a,e)=>{setTimeout(()=>{a()},n)});function oe(n){return Ce()?(Pe(n),!0):!1}function E(n){return typeof n=="function"?n():t(n)}const _e=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const kt=n=>n!=null,_t=Object.prototype.toString,It=n=>_t.call(n)==="[object Object]",z=()=>{},se=St();function St(){var n,a;return _e&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((a=window==null?void 0:window.navigator)==null?void 0:a.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const Ct={mounted:"mounted",updated:"updated",unmounted:"unmounted"};function Pt(...n){if(n.length!==1)return Te(...n);const a=n[0];return typeof a=="function"?Ae(Re(()=>({get:a,set:z}))):$(a)}function G(n){var a;const e=E(n);return(a=e==null?void 0:e.$el)!=null?a:e}const Ie=_e?window:void 0;function Tt(...n){let a,e,l,r;if(typeof n[0]=="string"||Array.isArray(n[0])?([e,l,r]=n,a=Ie):[a,e,l,r]=n,!a)return z;Array.isArray(e)||(e=[e]),Array.isArray(l)||(l=[l]);const p=[],f=()=>{p.forEach(b=>b()),p.length=0},c=(b,h,F,C)=>(b.addEventListener(h,F,C),()=>b.removeEventListener(h,F,C)),y=Q(()=>[G(a),E(r)],([b,h])=>{if(f(),!b)return;const F=It(h)?{...h}:h;p.push(...e.flatMap(C=>l.map(I=>c(b,C,I,F))))},{immediate:!0,flush:"post"}),w=()=>{y(),f()};return oe(w),w}function At(){const n=$(!1),a=Le();return a&&de(()=>{n.value=!0},a),n}function Rt(n){const a=At();return U(()=>(a.value,!!n()))}function ue(n,a,e={}){const{root:l,rootMargin:r="0px",threshold:p=.1,window:f=Ie,immediate:c=!0}=e,y=Rt(()=>f&&"IntersectionObserver"in f),w=U(()=>{const I=E(n);return(Array.isArray(I)?I:[I]).map(G).filter(kt)});let b=z;const h=$(c),F=y.value?Q(()=>[w.value,G(l),h.value],([I,D])=>{if(b(),!h.value||!I.length)return;const s=new IntersectionObserver(a,{root:G(D),rootMargin:r,threshold:p});I.forEach(m=>m&&s.observe(m)),b=()=>{s.disconnect(),b=z}},{immediate:c,flush:"post"}):z,C=()=>{b(),F(),h.value=!1};return oe(C),{isSupported:y,isActive:h,pause(){b(),h.value=!1},resume(){h.value=!0},stop:C}}function J(n){return typeof Window<"u"&&n instanceof Window?n.document.documentElement:typeof Document<"u"&&n instanceof Document?n.documentElement:n}const Qt={[Ct.mounted](n,a){typeof a.value=="function"?ue(n,a.value):ue(n,...a.value)}};function Se(n){const a=window.getComputedStyle(n);if(a.overflowX==="scroll"||a.overflowY==="scroll"||a.overflowX==="auto"&&n.clientWidth<n.scrollWidth||a.overflowY==="auto"&&n.clientHeight<n.scrollHeight)return!0;{const e=n.parentNode;return!e||e.tagName==="BODY"?!1:Se(e)}}function Lt(n){const a=n||window.event,e=a.target;return Se(e)?!1:a.touches.length>1?!0:(a.preventDefault&&a.preventDefault(),!1)}const Z=new WeakMap;function $t(n,a=!1){const e=$(a);let l=null,r="";Q(Pt(n),c=>{const y=J(E(c));if(y){const w=y;if(Z.get(w)||Z.set(w,w.style.overflow),w.style.overflow!=="hidden"&&(r=w.style.overflow),w.style.overflow==="hidden")return e.value=!0;if(e.value)return w.style.overflow="hidden"}},{immediate:!0});const p=()=>{const c=J(E(n));!c||e.value||(se&&(l=Tt(c,"touchmove",y=>{Lt(y)},{passive:!1})),c.style.overflow="hidden",e.value=!0)},f=()=>{const c=J(E(n));!c||!e.value||(se&&(l==null||l()),c.style.overflow=r,Z.delete(c),e.value=!1)};return oe(f),U({get(){return e.value},set(c){c?p():f()}})}function Ft(){let n=!1;const a=$(!1);return(e,l)=>{if(a.value=l.value,n)return;n=!0;const r=$t(e,l.value);Q(a,p=>r.value=p)}}Ft();class Nt extends ut{async write(a){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(a.string!==void 0)await this.writeText(a.string);else if(a.url)await this.writeText(a.url);else if(a.image)if(typeof ClipboardItem<"u")try{const e=await(await fetch(a.image)).blob(),l=new ClipboardItem({[e.type]:e});await navigator.clipboard.write([l])}catch(e){throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const a=await navigator.clipboard.read(),e=a[0].types[0],l=await a[0].getType(e);return{value:await this._getBlobData(l,e),type:e}}catch(a){return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(a){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(a)}_getBlobData(a,e){return new Promise((l,r)=>{const p=new FileReader;e.includes("image")?p.readAsDataURL(a):p.readAsText(a),p.onloadend=()=>{const f=p.result;l(f)},p.onerror=f=>{r(f)}})}}const Ot=dt("Clipboard",{web:()=>new Nt}),Dt={class:"container"},Xt=x({__name:"VerseActionComponent",props:{verse:{},triggerProp:{},actionSheetButtonsProps:{}},emits:["update:didDismiss","update:playVerseAudio","update:bookmarked"],setup(n,{emit:a}){const e=n,l=a,r=[{text:"Play",role:"play"},{text:"Copy",role:"copy"},{text:"Bookmark",role:"bookmark"},{text:"Cancel",role:"cancel"}],p=c=>{switch(c.detail.role){case"play":l("update:playVerseAudio",{audioID:e.verse.chapter_id,verseKey:e.verse.verse_key});break;case"copy":f(e.verse.text_uthmani);break;case"bookmark":l("update:bookmarked",e.verse);break}},f=async c=>{await Ot.write({string:c})};return(c,y)=>(_(),W("div",Dt,[o(t($e),{trigger:c.triggerProp,header:"Verse ".concat(c.verse.verse_key),buttons:r,onDidDismiss:[y[0]||(y[0]=w=>c.$emit("update:didDismiss",w)),y[1]||(y[1]=w=>p(w))]},null,8,["trigger","header"])]))}}),qt=x({__name:"ToolbarComponent",props:{routeBackLabel:{},routerDirection:{},routeBackPath:{},isLoading:{type:Boolean}},setup(n){const{isRtl:a}=ee(),{go:e}=Fe();return(l,r)=>(_(),T(t(X),null,{default:i(()=>[o(t(ae),{slot:"start"},{default:i(()=>[o(t(P),{onClick:r[0]||(r[0]=p=>l.routeBackPath?l.routeBackPath:t(e)(-1)),"router-direction":l.routerDirection?l.routerDirection:"back",color:"primary"},{default:i(()=>[o(t(S),{icon:t(a)?t(Ne):t(Oe)},null,8,["icon"]),o(t(ce),null,{default:i(()=>[te(L(l.routeBackLabel),1)]),_:1})]),_:1},8,["router-direction"])]),_:1}),l.isLoading?(_(),T(t(De),{key:0,type:"indeterminate"})):M("",!0)]),_:1}))}}),Vt={key:0},Bt={key:1},Mt=x({__name:"AudioPlayerModalComponent",props:{isPlaying:{type:Boolean},verseTiming:{},selectedReciter:{},audioFiles:{},chapterName:{},progressTimer:{},mediaVolume:{},loopAudio:{},mapRecitions:{}},emits:["update:playAudio","update:playChapter","update:changeVolume","update:seek","update:download","update:selectedReciter","update:playNext","update:playPrev","update:loopAudio"],setup(n,{emit:a}){const e=$(),{chapters:l,getVerseByVerseKey:r}=ke(),{getLine:p,isRtl:f}=ee(),c=$(!0),{storageKeys:y}=Ve("__audioDB"),w=s=>(F("update:changeVolume",s/100),"".concat(s,"%")),b=()=>et.dismiss(null,"cancel"),h=n,F=a,C=U(()=>{const s=h.verseTiming;if(s){const m=String(s.verseKey),u=r(m);if(u)return{juzNumber:u.juz_number,hizbNumber:u.hizb_number,pageNumber:u.page_number}}}),I=$();de(async()=>{const s=await y();s&&(I.value=s)});const D=(s,m)=>{const u=String(s).concat("-").concat(String(m));return!!(I.value&&I.value.includes(u))};return(s,m)=>(_(),T(t(be),{ref_key:"modalRef",ref:e,trigger:"audio-modal"},{default:i(()=>[o(t(me),null,{default:i(()=>[o(t(X),null,{default:i(()=>[o(t(ae),{slot:"start"},{default:i(()=>[o(t(P),{color:"medium",onClick:b},{default:i(()=>[o(t(S),{icon:t(pe)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),o(t(we),{class:"ion-padding ion-margin-vertical"},{default:i(()=>[o(t(fe),null,{default:i(()=>[o(t(B),{class:"ion-justify-content-center"},{default:i(()=>[o(t(A),{size:"11"},{default:i(()=>{var u,k;return[c.value?(_(),T(t(Be),{key:0,style:{height:"331px",width:"331px"}},{default:i(()=>[o(t(Me),{animated:!0})]),_:1})):M("",!0),o(t(Ee),{onIonImgDidLoad:m[0]||(m[0]=N=>c.value=!1),src:"/reciters/".concat((u=s.selectedReciter)==null?void 0:u.reciter_id,".jpg"),alt:(k=s.selectedReciter)==null?void 0:k.name},null,8,["src","alt"])]}),_:1})]),_:1}),o(t(B),null,{default:i(()=>[o(t(A),{size:"12"},{default:i(()=>[o(t(H),{class:"ion-padding-vertical"},{default:i(()=>[o(t(H),null,{default:i(()=>[O("h3",null,L(s.chapterName),1)]),_:1}),o(t(H),null,{default:i(()=>{var u;return[O("h4",null,L((u=s.selectedReciter)==null?void 0:u.name),1)]}),_:1}),C.value?(_(),T(t(H),{key:0},{default:i(()=>{var u,k,N;return[O("p",null,"Hizb "+L((u=C.value)==null?void 0:u.hizbNumber)+" | Page "+L((k=C.value)==null?void 0:k.pageNumber)+" | Juz "+L((N=C.value)==null?void 0:N.juzNumber),1)]}),_:1})):M("",!0)]),_:1})]),_:1})]),_:1}),o(t(B),{class:"ion-justify-content-center"},{default:i(()=>[o(t(A),{size:"12"},{default:i(()=>{var u;return[o(t(je),{"aria-label":"Seek",color:"primary",onIonInput:m[1]||(m[1]=k=>s.$emit("update:seek",Number(k.detail.value))),pin:!0,"pin-formatter":w,value:Math.round(s.progressTimer),min:0,max:(u=s.audioFiles)==null?void 0:u.duration},null,8,["value","max"])]}),_:1})]),_:1}),o(t(B),{class:"ion-justify-content-evenly"},{default:i(()=>[o(t(A),null,{default:i(()=>[o(t(P),{fill:"clear",id:"reciters-modal"},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(He)},null,8,["icon"])]),_:1}),o(vt,{title:t(p)("settings.reciters"),trigger:"reciters-modal",data:s.mapRecitions,selected:s.selectedReciter,"onUpdate:selectedRecition":m[2]||(m[2]=u=>s.$emit("update:selectedReciter",u))},null,8,["title","data","selected"])]),_:1}),o(t(A),null,{default:i(()=>[o(t(P),{fill:"clear",onClick:m[3]||(m[3]=u=>s.$emit("update:playPrev",!0))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(We)},null,8,["icon"])]),_:1})]),_:1}),o(t(A),null,{default:i(()=>[o(t(P),{fill:"clear",onClick:m[4]||(m[4]=u=>s.$emit("update:playAudio",!0))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:s.isPlaying?t(ge):t(ve),color:"primary"},null,8,["icon"])]),_:1})]),_:1}),o(t(A),null,{default:i(()=>[o(t(P),{fill:"clear",onClick:m[5]||(m[5]=u=>s.$emit("update:playNext",!0))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(ye)},null,8,["icon"])]),_:1})]),_:1}),o(t(A),null,{default:i(()=>[s.loopAudio==="none"?(_(),T(t(P),{key:0,fill:"clear",onClick:m[6]||(m[6]=u=>s.$emit("update:loopAudio","repeat"))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(ne),color:"medium"},null,8,["icon"])]),_:1})):s.loopAudio==="repeat"?(_(),T(t(P),{key:1,fill:"clear",onClick:m[7]||(m[7]=u=>s.$emit("update:loopAudio","none"))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(ne),color:"primary"},null,8,["icon"])]),_:1})):M("",!0)]),_:1}),o(t(A),null,{default:i(()=>{var u,k;return[o(t(P),{fill:"clear",onClick:m[8]||(m[8]=N=>s.$emit("update:download",!0)),disabled:D(String((u=s.audioFiles)==null?void 0:u.reciterId),String((k=s.audioFiles)==null?void 0:k.chapter_id))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(ze),color:"danger"},null,8,["icon"])]),_:1},8,["disabled"])]}),_:1})]),_:1}),o(t(B),{class:"ion-justify-content-center ion-margin-vertical"},{default:i(()=>[o(t(A),{size:"12"},{default:i(()=>[o(t(Ue),{class:"ion-margin-bottom"},{default:i(()=>[o(t(S),{icon:t(xe),style:{"margin-right":"5px"}},null,8,["icon"]),te(" "+L(t(p)("audio.playlist")),1)]),_:1}),o(t(Ke),{style:{height:"400px","overflow-y":"scroll"},class:"ion-padding",inset:!0},{default:i(()=>[(_(!0),W(Ze,null,Ye(t(l),u=>(_(),T(t(Ge),{key:u.id},{default:i(()=>[o(t(Qe),{button:!0},{default:i(()=>[o(t(ce),null,{default:i(()=>{var k;return[O("h3",null,[t(f)?(_(),W("span",Vt,L(u.nameArabic),1)):(_(),W("span",Bt,L(u.nameSimple),1))]),O("p",null,L((k=s.selectedReciter)==null?void 0:k.name),1)]}),_:2},1024)]),_:2},1024),o(t(Xe),{slot:"end"},{default:i(()=>{var k,N,K;return[o(t(ie),{color:D(String((k=s.audioFiles)==null?void 0:k.reciterId),String(u.id))?"medium":"success",onClick:m[9]||(m[9]=q=>s.$emit("update:download",!0)),disabled:D(String((N=s.audioFiles)==null?void 0:N.reciterId),String(u.id))},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(qe)},null,8,["icon"])]),_:2},1032,["color","disabled"]),o(t(ie),{color:"primary",onClick:q=>s.$emit("update:playChapter",u.id),disabled:((K=s.audioFiles)==null?void 0:K.chapter_id)===u.id},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(Je)},null,8,["icon"])]),_:2},1032,["onClick","disabled"])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512))}}),Et=["alt","src"],jt={class:"d-none"},Ht=["autoplay","src","type"],Wt=x({__name:"AudioPlayerComponent",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:a}){const e=yt(),l=tt(),r=$(),{getLocale:p}=ee(),f=a,c=()=>{r.value&&(r.value.paused?(r.value.play(),e.isPlaying=!0):(r.value.pause(),e.isPlaying=!1))},y=()=>{var d;if((d=r.value)!=null&&d.buffered&&r.value.buffered.length){const g=r.value.buffered.length-1;return r.value.buffered.end(g)}return 0},w=()=>{r.value&&e.audioFiles&&(e.listenerActive=!0,e.currentTimestamp=r.value.currentTime,e.duration=re(e.audioFiles.duration),e.elapsedTime=le(e.duration-(e.currentTimestamp-1),pt(p.value)),e.progressTimer=Y(e.currentTimestamp-1))},b=async()=>{var d;switch(e.loopAudio){case"once":r.value&&(r.value.currentTime=0,e.isPlaying=!0,(d=r.value)==null||d.play());break;case"repeat":await e.playNext();break;case"none":e.isPlaying=!1,e.listenerActive=!1,h(),e.audioPlayerSetting.dismissOnEnd&&u();break}},h=()=>{var d,g,v;e.listenerActive=!1,e.isPlaying=!1,(d=r.value)==null||d.removeEventListener("timeupdate",w),(g=r.value)==null||g.removeEventListener("ended",b),(v=r.value)==null||v.removeEventListener("pause",e.playbackPaused)},F=()=>{e.audioFiles&&(e.audioDuration=le(Math.round(e.audioFiles.duration))),r.value&&(r.value.volume=e.mediaVolume)},C=()=>{var d;if(e.isLoading=!0,r.value)if(r.value.readyState>2){if(e.selectedVerseKey){const g=(d=e.audioFiles)==null?void 0:d.verse_timings.find(v=>v.verse_key===e.selectedVerseKey);g&&r.value&&(r.value.currentTime=re(g.timestamp_from),e.progressTimer=Y(g.timestamp_from/g.timestamp_to))}e.isLoading=!1}else throw"Failed to fetch Audio"},I=d=>{r.value&&(e.progressTimer=d,r.value.currentTime=d/1e3)},D=()=>{e.chapterName&&(l.setPageTitle(e.chapterName),l.setMetaData([{property:"og:audio:title",content:e.chapterName},{name:"twitter:title",content:e.chapterName},{property:"og:title",content:e.chapterName}])),e.audioFiles&&l.setMetaData([{property:"music:song:track",content:String(e.audioFiles.id)},{property:"og:url",content:e.audioFiles.audio_url},{property:"og:type",content:e.audioFiles.format},{property:"og:audio",content:e.audioFiles.audio_url},{property:"music:duration",content:e.audioFiles.duration.toString()},{property:"og:audio:type",content:e.audioFiles.format}]),e.selectedReciter&&(l.setMetaData([{name:"twitter:image",content:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg")},{property:"music:musician",content:e.selectedReciter.name},{property:"og:audio:artist",content:e.selectedReciter.name},{property:"og:image",content:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg")}]),"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.chapterName,artist:e.selectedReciter.name,album:"Quran",artwork:[{src:"/reciters/".concat(e.selectedReciter.reciter_id,".jpg"),sizes:"96x96",type:"image/jpg"}]}),navigator.mediaSession.setActionHandler("play",()=>{c()}),navigator.mediaSession.setActionHandler("pause",()=>{c()}),navigator.mediaSession.setActionHandler("seekto",({seekTime:d})=>{d&&(e.progressTimer=Y(d),I(d))}),navigator.mediaSession.setActionHandler("nexttrack",()=>{e.playNext()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{e.playPrevious()})))},s=(d,g,v)=>d>=g&&d<v,m=U(()=>{if(e.audioFiles)return e.audioFiles.verse_timings.map(d=>({inRange:!1,wordLocation:"",wordPosition:0,verseNumber:0,...d}))});he(()=>{var d;if(m){const g=Math.ceil(Y(e.currentTimestamp)),v=(d=m.value)==null?void 0:d.find(V=>g>=V.timestamp_from&&g<=V.timestamp_to);v&&s(g,v.timestamp_from,v==null?void 0:v.timestamp_to)&&v.segments.map(R=>{const j=s(g,R[1],R[2]);if(j){e.verseTiming={chapterId:mt(v.verse_key),verseKey:v.verse_key,inRange:j,verseNumber:ft(v.verse_key),wordLocation:gt(v.verse_key,R[0]),wordPosition:R[0],audioSrc:e.audioPayLoadSrc};return}})}}),at(()=>{e.audioFiles=null});const u=()=>{f("update:modelValue",!1),r.value&&r.value.pause(),e.chapterId=0,e.audioFiles=null,e.selectedVerseKey="",h()},k=async d=>{r.value&&(e.mediaVolume=d,r.value.volume=e.mediaVolume/100)},N=d=>{e.getAudio({audioID:d})},K=d=>{e.selectedReciter=d},q=d=>{console.log(d),e.playNext()};return(d,g)=>(_(),T(lt,{name:"slide-fade"},{default:i(()=>[d.modelValue?(_(),T(t(ot),{key:0,class:"footer"},{default:i(()=>[o(t(X),null,{default:i(()=>{var v,V;return[o(t(fe),null,{default:i(()=>[o(t(B),null,{default:i(()=>[o(t(A),{id:"audio-modal"},{default:i(()=>[o(t(nt),null,{default:i(()=>{var R,j;return[O("img",{alt:(R=t(e).selectedReciter)==null?void 0:R.name,class:"img",src:"/reciters/".concat((j=t(e).selectedReciter)==null?void 0:j.reciter_id,".jpg")},null,8,Et)]}),_:1})]),_:1}),o(t(A),{size:"5","size-md":"3","size-lg":"3",class:"ion-text-right"},{default:i(()=>[o(t(P),{fill:"clear",onClick:c},{default:i(()=>[t(e).isLoading?(_(),T(t(it),{key:0})):(_(),T(t(S),{key:1,slot:"icon-only",icon:t(e).isPlaying?t(ge):t(ve)},null,8,["icon"]))]),_:1}),o(t(P),{fill:"clear",onClick:t(e).playNext},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(ye)},null,8,["icon"])]),_:1},8,["onClick"]),o(t(P),{fill:"clear",onClick:u},{default:i(()=>[o(t(S),{slot:"icon-only",icon:t(rt),color:"danger"},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),O("div",jt,[O("audio",{controls:"",autoplay:t(e).audioPlayerSetting.autoPlay,ref_key:"audioPlayerRef",ref:r,id:"audioPlayerRef",src:(v=t(e).audioFiles)==null?void 0:v.audio_url,type:"audio/".concat((V=t(e).audioFiles)==null?void 0:V.format),onPause:g[0]||(g[0]=(...R)=>t(e).playbackPaused&&t(e).playbackPaused(...R)),onPlaying:g[1]||(g[1]=(...R)=>t(e).playbackPlaying&&t(e).playbackPlaying(...R)),onEnded:b,onCanplaythrough:F,onTimeupdate:w,onLoadeddata:C,onProgress:y,onLoadedmetadata:D,onSeek:I},null,40,Ht)])]}),_:1}),o(Mt,{trigger:"audio-modal","is-playing":t(e).isPlaying,"verse-timing":t(e).verseTiming,"selected-reciter":t(e).selectedReciter,"audio-files":t(e).audioFiles,"chapter-name":t(e).chapterName,"loop-audio":t(e).loopAudio,"media-volume":t(e).mediaVolume,"map-recitions":t(e).mapRecitions,"progress-timer":t(e).progressTimer,"onUpdate:changeVolume":k,"onUpdate:seek":I,"onUpdate:download":t(e).downloadAudioFile,"onUpdate:playChapter":N,"onUpdate:playNext":q,"onUpdate:playPrev":g[2]||(g[2]=v=>t(e).playPrevious()),"onUpdate:playAudio":c,"onUpdate:loopAudio":g[3]||(g[3]=v=>t(e).loopAudio=v),"onUpdate:selectedReciter":K},null,8,["is-playing","verse-timing","selected-reciter","audio-files","chapter-name","loop-audio","media-volume","map-recitions","progress-timer","onUpdate:download"])]),_:1})):M("",!0)]),_:1}))}}),Jt=ct(Wt,[["__scopeId","data-v-2ca64859"]]),zt={key:0},Zt=x({__name:"ChapterInfoModalComponent",props:{pageEl:{},trigger:{},chapterInfo:{}},setup(n){const a=$(),{getChapter:e}=ke(),l=$(""),r=()=>{a.value.$el.dismiss()},p=n;return he(()=>{if(p.chapterInfo){const f=e(p.chapterInfo.chapter_id);f&&(l.value=f==null?void 0:f.nameSimple)}}),(f,c)=>(_(),T(t(be),{ref_key:"modal",ref:a,trigger:f.trigger,"can-dismiss":!0},{default:i(()=>[o(t(me),null,{default:i(()=>[o(t(X),null,{default:i(()=>[o(t(st),null,{default:i(()=>[te(L(l.value),1)]),_:1}),o(t(ae),{slot:"start"},{default:i(()=>[o(t(P),{onClick:r,color:"medium"},{default:i(()=>[o(t(S),{icon:t(pe)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1}),o(t(we),{class:"ion-padding"},{default:i(()=>{var y;return[f.chapterInfo?(_(),W("div",zt,[o(t(H),{innerHTML:(y=f.chapterInfo)==null?void 0:y.text},null,8,["innerHTML"])])):M("",!0)]}),_:1})]),_:1},8,["trigger"]))}});export{Jt as A,qt as _,Xt as a,Zt as b,Gt as s,Qt as v};
